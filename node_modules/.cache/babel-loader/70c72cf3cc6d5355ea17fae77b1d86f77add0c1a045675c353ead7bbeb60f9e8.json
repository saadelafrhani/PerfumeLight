{"ast":null,"code":"const handleSearchChange = async e => {\n  const value = e.target.value.toLowerCase();\n  setSearchTerm(value);\n  if (value) {\n    try {\n      // Adjust the query for case-insensitive search\n      const q = query(collection(db, \"products\"), where(\"name\", \">=\", value), where(\"name\", \"<=\", value + \"\\uf8ff\") // Ensures search is case-insensitive\n      );\n      const querySnapshot = await getDocs(q);\n      const filteredData = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setFilteredProducts(filteredData);\n    } catch (error) {\n      console.error(\"Error searching products: \", error);\n    }\n  } else {\n    setFilteredProducts(products); // Reset to all products if search is empty\n  }\n};","map":{"version":3,"names":["handleSearchChange","e","value","target","toLowerCase","setSearchTerm","q","query","collection","db","where","querySnapshot","getDocs","filteredData","docs","map","doc","id","data","setFilteredProducts","error","console","products"],"sources":["/home/saad-el-afrhani/Desktop/perfumelight/src/components/product/index.jsx"],"sourcesContent":["const handleSearchChange = async (e) => {\n    const value = e.target.value.toLowerCase();\n    setSearchTerm(value);\n\n    if (value) {\n        try {\n            // Adjust the query for case-insensitive search\n            const q = query(\n                collection(db, \"products\"),\n                where(\"name\", \">=\", value),\n                where(\"name\", \"<=\", value + \"\\uf8ff\") // Ensures search is case-insensitive\n            );\n\n            const querySnapshot = await getDocs(q);\n            const filteredData = querySnapshot.docs.map((doc) => ({\n                id: doc.id,\n                ...doc.data(),\n            }));\n            setFilteredProducts(filteredData);\n        } catch (error) {\n            console.error(\"Error searching products: \", error);\n        }\n    } else {\n        setFilteredProducts(products); // Reset to all products if search is empty\n    }\n};\n"],"mappings":"AAAA,MAAMA,kBAAkB,GAAG,MAAOC,CAAC,IAAK;EACpC,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAACE,WAAW,CAAC,CAAC;EAC1CC,aAAa,CAACH,KAAK,CAAC;EAEpB,IAAIA,KAAK,EAAE;IACP,IAAI;MACA;MACA,MAAMI,CAAC,GAAGC,KAAK,CACXC,UAAU,CAACC,EAAE,EAAE,UAAU,CAAC,EAC1BC,KAAK,CAAC,MAAM,EAAE,IAAI,EAAER,KAAK,CAAC,EAC1BQ,KAAK,CAAC,MAAM,EAAE,IAAI,EAAER,KAAK,GAAG,QAAQ,CAAC,CAAC;MAC1C,CAAC;MAED,MAAMS,aAAa,GAAG,MAAMC,OAAO,CAACN,CAAC,CAAC;MACtC,MAAMO,YAAY,GAAGF,aAAa,CAACG,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;QAClDC,EAAE,EAAED,GAAG,CAACC,EAAE;QACV,GAAGD,GAAG,CAACE,IAAI,CAAC;MAChB,CAAC,CAAC,CAAC;MACHC,mBAAmB,CAACN,YAAY,CAAC;IACrC,CAAC,CAAC,OAAOO,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACtD;EACJ,CAAC,MAAM;IACHD,mBAAmB,CAACG,QAAQ,CAAC,CAAC,CAAC;EACnC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}